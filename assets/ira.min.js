function replaceUrlParam(e,t,a){var i=new RegExp("("+t+"=).*?(&|$)"),n=e;return e.search(i)>=0?e.replace(i,"$1"+a+"$2"):n+(n.indexOf("?")>0?"&":"?")+t+"="+a}!function(e){e.fn.prepareTransition=function(){return this.each(function(){var t=e(this);t.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){t.removeClass("is-transitioning")});var a=0;e.each(["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],function(e,i){a=parseFloat(t.css(i))||a}),0!=a&&(t.addClass("is-transitioning"),t[0].offsetWidth)})}}(jQuery),function(){var e,t;e=this.jQuery||window.jQuery,t=e(window),e.fn.stick_in_parent=function(a){var i,n,r,o,s,c,d,l,h,u,p;for(null==a&&(a={}),p=a.sticky_class,s=a.inner_scrolling,u=a.recalc_every,h=a.parent,l=a.offset_top,d=a.spacer,n=a.bottoming,null==l&&(l=0),null==h&&(h=void 0),null==s&&(s=!0),null==p&&(p="is_stuck"),i=e(document),null==n&&(n=!0),r=function(a,r,o,c,f,g,m,v){var w,$,y,b,C,k,x,I,T,S,P,_;if(!a.data("sticky_kit")){if(a.data("sticky_kit",!0),C=i.height(),x=a.parent(),null!=h&&(x=x.closest(h)),!x.length)throw"failed to find stick parent";if(w=y=!1,(P=null!=d?d&&a.closest(d):e("<div />"))&&P.css("position",a.css("position")),(I=function(){var e,t,n;if(!v&&(C=i.height(),e=parseInt(x.css("border-top-width"),10),t=parseInt(x.css("padding-top"),10),r=parseInt(x.css("padding-bottom"),10),o=x.offset().top+e+t,c=x.height(),y&&(w=y=!1,null==d&&(a.insertAfter(P),P.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(p),n=!0),f=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-l,g=a.outerHeight(!0),m=a.css("float"),P&&P.css({width:a.outerWidth(!0),height:g,display:a.css("display"),"vertical-align":a.css("vertical-align"),float:m}),n))return _()})(),g!==c)return b=void 0,k=l,S=u,_=function(){var e,h,$,T;if(!v&&($=!1,null!=S&&(0>=--S&&(S=u,I(),$=!0)),$||i.height()===C||I(),$=t.scrollTop(),null!=b&&(h=$-b),b=$,y?(n&&(T=$+g+k>c+o,w&&!T&&(w=!1,a.css({position:"fixed",bottom:"",top:k}).trigger("sticky_kit:unbottom"))),$<f&&(y=!1,k=l,null==d&&("left"!==m&&"right"!==m||a.insertAfter(P),P.detach()),e={position:"",width:"",top:""},a.css(e).removeClass(p).trigger("sticky_kit:unstick")),s&&(e=t.height(),g+l>e&&!w&&(k-=h,k=Math.max(e-g,k),k=Math.min(l,k),y&&a.css({top:k+"px"})))):$>f&&(y=!0,(e={position:"fixed",top:k}).width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(e).addClass(p),null==d&&(a.after(P),"left"!==m&&"right"!==m||P.append(a)),a.trigger("sticky_kit:stick")),y&&n&&(null==T&&(T=$+g+k>c+o),!w&&T)))return w=!0,"static"===x.css("position")&&x.css({position:"relative"}),a.css({position:"absolute",bottom:r,top:"auto"}).trigger("sticky_kit:bottom")},T=function(){return I(),_()},$=function(){if(v=!0,t.off("touchmove",_),t.off("scroll",_),t.off("resize",T),e(document.body).off("sticky_kit:recalc",T),a.off("sticky_kit:detach",$),a.removeData("sticky_kit"),a.css({position:"",bottom:"",top:"",width:""}),x.position("position",""),y)return null==d&&("left"!==m&&"right"!==m||a.insertAfter(P),P.remove()),a.removeClass(p)},t.on("touchmove",_),t.on("scroll",_),t.on("resize",T),e(document.body).on("sticky_kit:recalc",T),a.on("sticky_kit:detach",$),setTimeout(_,0)}},o=0,c=this.length;o<c;o++)a=this[o],r(e(a));return this}}.call(this);var afterResize=function(){var e={};return function(t,a,i){i||(i="Don't call this twice without a uniqueId"),e[i]&&clearTimeout(e[i]),e[i]=setTimeout(t,a)}}();function formatPriceAndRemoveZeroes(e){var t=Currency.moneyFormats[Currency.currentCurrency][Currency.format],a=Currency.formatMoney(e,t);return a.match(/.00/)&&(a=a.split(".00")[0]),a}"undefined"==typeof Shopify&&(Shopify={}),Shopify.formatMoney||(Shopify.formatMoney=function(e,t){function a(e,t){return void 0===e?t:e}function i(e,t,i,n){if(t=a(t,2),i=a(i,","),n=a(n,"."),isNaN(e)||null==e)return 0;var r=(e=(e/100).toFixed(t)).split(".");return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(r[1]?n+r[1]:"")}var n="",r=/\{\{\s*(\w+)\s*\}\}/,o=t||this.money_format;switch("string"==typeof e&&(e=e.replace(".","")),o.match(r)[1]){case"amount":n=i(e,2);break;case"amount_no_decimals":n=i(e,0);break;case"amount_with_comma_separator":n=i(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=i(e,0,".",",")}return o.replace(r,n)}),function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(n.childNodes[1])}return t&&e.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var i=".fitvidsignore";a.ignore&&(i=i+", "+a.ignore);var n=e(this).find(t.join(","));(n=(n=n.not("object object")).not(i)).each(function(){var t=e(this);if(!(t.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var n="fitvid"+e.fn.fitVids._count;t.attr("name",n),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}})})},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),jQuery.extend({getQueryParams:function(e){return(e||document.location.search).replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]}});var HomePage=function(){ira.cache.$body.find("[data-map-api]").length&&this.initMaps()};HomePage.prototype.initMaps=function(){var e=this,t=ira.cache.$body.find("[data-map-api]");if(t.length){var a=t.data("map-api");$.getScript("https://maps.googleapis.com/maps/api/js?key="+a).then(function(){t.each(function(t,a){e.loadMap(a)})})}},HomePage.prototype.loadMap=function(e){var t=$(e),a=t.data("section-id"),i=t.data("map-address"),n=new google.maps.Geocoder,r=""!=t.data("map-style")&&t.data("map-style");n.geocode({address:i},function(e,t){if(t==google.maps.GeocoderStatus.OK){var i={zoom:12,zoomControl:!1,center:e[0].geometry.location,styles:r,draggable:!1,mapTypeControl:!1,fullscreenControl:!1,fullscreenControlOptions:!1,gestureHandling:"none",keyboardShortcuts:!1,scrollwheel:!1,streetViewControl:!1},n=new google.maps.Map(document.getElementById("map-"+a),i);new google.maps.Marker({map:n,position:e[0].geometry.location});n.panBy(-150,0)}else console.error("Google Maps geocode was not successful for the following reason: "+t)})};var ProductPage=function(e){var t=this;this.$container=$(e),this.product=e.querySelector("[data-product-json]").innerHTML,this.product=JSON.parse(this.product||"{}"),this.initialSelectCallback=!0,new Shopify.OptionSelectors("productSelect-"+this.product.id,{product:this.product,onVariantSelected:this.selectCallback.bind(this),enableHistoryState:!!ira.cache.$body.hasClass("template-product")}),ira.cache.$sliderGallery.slick({dots:!0,arrows:!1,mobileFirst:!0,respondTo:"min",adaptiveHeight:!0,pauseOnHover:!1,draggable:!0,lazyload:"progressive"}).init(function(){var e=t.$container.attr("data-initial-image-position");e&&ira.cache.$sliderGallery.slick("slickGoTo",e,!1)}),1==Number(this.$container.attr("data-product-options-size"))&&"Title"!=this.$container.attr("data-product-options-first")&&this.$container.find(".selector-wrapper").eq(0).prepend('<label for="productSelect-option-0">'+this.$container.attr("data-product-options-first")+"</label>"),1==Number(this.$container.attr("data-product-variants-size"))&&-1!==this.$container.attr("data-product-variants-first").indexOf("Default")&&this.$container.find(".selector-wrapper").hide(),this.initFitVids(),this.setupTabs(),this.extendTab(),this.switchTabs(),this.openLightbox(),this.closeLightbox(),$(window).on("widthChange",_.debounce(this.setupTabs,50))};function ProductPageInit(){ira.cache.productContainers.forEach(function(e){new ProductPage(e)})}function toggleMobileHeader(){$(".controls-container").toggleClass("mobile--active")}ProductPage.prototype.initFitVids=function(){var e=this.$container.find("iframe");e.length&&e.fitVids()},ProductPage.prototype.selectCallback=function(e,t){ira.productPage(this.$container,{default_currency:this.$container.attr("data-shop-default-currency"),variant:e,selector:t}),this.togglePaymentButton(e),e&&e.featured_image&&(this.updateVariantImageSliderGallery(e.featured_image),this.updateVariantImageThumbnailGallery(e.featured_image),this.updateVariantImageStackGallery(e.featured_image)),this.initialSelectCallback=!1},ProductPage.prototype.togglePaymentButton=function(e){var t=this.$container.find(".shopify-payment-button");e&&e.available?t.show():t.hide()},ProductPage.prototype.openLightbox=function(){$('[data-product-lightbox-button="open"]').on("click",function(){ira.cache.$body.addClass("no-scroll"),$("[data-product-lightbox]").addClass("active")})},ProductPage.prototype.closeLightbox=function(){$('[data-product-lightbox-button="close"]').on("click",function(){ira.cache.$body.removeClass("no-scroll"),$("[data-product-lightbox]").removeClass("active")})},ProductPage.prototype.setupTabs=function(){var e=$("[data-product-tab]"),t=$("[data-product-tab-content]");e.removeClass("inactive"),t.height("auto").removeClass("truncated"),t.children("[data-product-tab-content-inner]").height("auto").removeClass("truncated"),setTimeout(function(){t.each(function(e,t){var a=$(t),i=a.closest("[data-product-tab]"),n=a.children("[data-product-tab-content-inner]");a.imagesLoaded(function(){a.height();var e=n.height();e>400?(n.addClass("truncated").height(e),a.height("auto").addClass("truncated")):(i.find("[data-read-more]").remove(),a.height(a.height()).addClass("truncated")),i.toggleClass("inactive",!i.hasClass("active"))})})},10)},ProductPage.prototype.extendTab=function(){$("[data-product-tab]").on("click","[data-read-more]",function(e){var t=$(e.currentTarget),a=t.text(),i=t.data("read-more");t.closest("[data-product-tab]").find("[data-product-tab-content-inner]").toggleClass("truncated"),t.text(i).data("read-more",a),$(window).trigger("tab-extended")})},ProductPage.prototype.switchTabs=function(){$("[data-product-tab]").on("click","[data-product-tab-title]",function(){var t=$(this).closest("[data-product-tab]"),a=t.siblings();$(window).trigger("tab-changed"),t.hasClass("active")?t.removeClass("active").addClass("inactive"):a.hasClass("active")?(a.removeClass("active").addClass("inactive"),t.removeClass("inactive").addClass("active"),e(t)):(t.removeClass("inactive").addClass("active"),e(t))});var e=function(e){if(!ira.cache.$productSidebar.hasClass("sticky-sidebar")){var t=$('[data-sticky-header="true"]').length?$("[data-sticky-header]").height()-1:0;setTimeout(function(){var a=Math.ceil(e[0].getBoundingClientRect().top),i=Math.ceil($(document.body)[0].getBoundingClientRect().top);$(document.body).animate({scrollTop:a-i-t+"px"},150)},100)}}},$('a[href$="size-guide"]').click(function(){$("#size-guide").trigger("click")}),ProductPage.prototype.updateVariantImageThumbnailGallery=function(e){ira.cache.$productImages.hide().filter("[data-image-id="+e.id+"]").show()},ProductPage.prototype.updateVariantImageSliderGallery=function(e){$(".slick-initialized").length&&ira.cache.$sliderGallery.slick("slickGoTo",e.position-1,!1)},ProductPage.prototype.updateVariantImageStackGallery=function(e){if(this.initialSelectCallback)return!1;var t=$(".site-header").outerHeight(),a=$("#ProductGalleryStacked").find("[data-image-id="+e.id+"]");return!!a.length&&(!($(window).width()<842)&&void $("body, html").animate({scrollTop:a.offset().top-t},500))},window.ira=window.ira||{},ira.cacheSelectors=function(){ira.cache={$window:$(window),$html:$("html"),$body:$("body"),windowHeight:$(window).height(),$navigation:$("#AccessibleNav"),$mobileSubNavToggle:$(".mobile-nav__has-sublist"),$header:$(".site-header"),$headerControls:$(".site-header-controls"),$headerCurrencyConverter:$(".header-message-currency"),$allDrawers:$(".drawer"),$changeView:$(".change-view"),productContainers:document.querySelectorAll("[data-product-container]"),$productImage:$("#ProductPhotoImg"),$thumbImages:$("#ProductThumbs").find("[data-product-thumbnail]"),$productImages:$("[data-product-image]"),$photoContainer:$("#PhotoContent"),$productSidebar:$("#sidebarColumn"),$sliderGallery:$("#ProductPhotoSlideshow"),$recoverPasswordLink:$("#RecoverPassword"),$hideRecoverPasswordLink:$("#HideRecoverPasswordLink"),$recoverPasswordForm:$("#RecoverPasswordForm"),$customerLoginForm:$("#CustomerLoginForm"),$passwordResetSuccess:$("#ResetSuccess"),$exitIntentOverlay:$(".exit-intent-overlay"),$notificationBar:$("#announcement-bar"),$fadeOutOverlay:$(".fadeout-overlay"),$searchBar:$("#HeaderSearchBar"),$pageContainer:$("#PageContainer"),$footer:$("#shopify-section-footer")}},ira.init=function(){var e;(FastClick.attach(document.body),ira.cacheSelectors(),ira.accessibleNav(),ira.drawersInit(),ira.mobileNavToggle(),ira.productSidebar(),ira.productImageSwitch(),ira.responsiveVideos(),ira.collectionSortSetup(),ira.collectionViews(),ira.loginForms(),ira.exitIntentInit(),ira.fadeOutOnClick(),ira.truncateExcerptText(),ira.headerInit(),ira.initInstaGrid(),ira.collectionList(),ira.cache.$body.imagesLoaded(function(){ira.footerInit()}),$("#story-grid").length&&ira.storyGridInit(),$(window).on("resize",function(){var e=$(window).width(),t=$(window).height();e!=ira.cache.windowWidth&&($(window).trigger("widthChange"),ira.cache.windowWidth=e),t!=ira.cache.windowHeight&&($(window).trigger("heightChange"),ira.cache.windowHeight=t)}).trigger("resize"),ira.isIOS?$(document.body).addClass("ios"):ira.initScrollTriggers(),$(window).on("widthChange",function(){ira.footerInit()}),$(document.body).hasClass("template-index"))&&((e=$(".parallax-container .shopify-section").eq(0)).hasClass("carousel")&&e.addClass("has-parallax").attr("data-parallax","true").attr("data-speed","0.5").attr("data-direction","down"));$(document.body).hasClass("template-collection")&&(e=$(".parallax-container #shopify-section-collection-template .section-header")).addClass("has-parallax").attr("data-parallax","true").attr("data-speed","0.5").attr("data-direction","down");$(".carousel-container").each(function(e,t){var a=$(t);ira.carousels.push(new ira.Carousel({container:a,enableKenBurns:a.attr("data-ken-burns"),slideTimeout:a.attr("data-slide-timeout")}))}),$(".feature-video-container").each(function(e,t){var a=$(t);ira.videoPlayers.push(new ira.VideoPlayer({container:a}))}),ira.parallax(),ira.cache.$notificationBar.length>0&&ira.cache.$body.addClass("respond-to-announcement-bar"),ira.cache.$body.addClass("ready"),$(document).trigger("ira.ready"),ira.cache.$body.hasClass("template-index")&&(ira.HomePage=new HomePage),(ira.cache.$body.hasClass("template-product")||ira.cache.$body.hasClass("template-index"))&&ProductPageInit()},ira.setupCurrencyConverter=function(){var e=$(".currency-picker");if(e.length&&!$(".currency-picker-label").length){var t=$('<div class="currency-picker-outer" />'),a=$('<span class="currency-picker-label" />');e.wrap(t),e.before(a),e.val(Currency.currentCurrency).on("change",function(){a.text(e.children("option:selected").text())}).trigger("change")}},ira.initCatalogMenu=function(e){var t=e.find("ul > li"),a=e.find("> .catalog-menu-image-container .catalog-menu-collection-image");t.on("mouseenter",function(e){var t=$(e.target),i=(t.is("li")?t:t.closest("li")).attr("data-index");a.filter("[data-index="+i+"]").addClass("visible")}),t.on("mouseleave",function(){a.removeClass("visible")})},ira.initScrollTriggers=function(){var e=[".shopify-section.featured-text",".shopify-section.testimonials",".shopify-section.featured-collections",".shopify-section.video-player",".shopify-section.features",".grid--products > .grid__item",".index-grid-items .index-grid-item"].map(function(e){return $(e).toArray()});function t(){var a=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,i=window.innerHeight;e.forEach(function(t,n){(function(e,t,a){return!!(e+t>a.offset().top+.5*a.outerHeight())&&(a.addClass("visible"),!0)})(a,i,$(t))&&e.splice(n,1)}),0==e.length&&ira.cache.$window.off("scroll",t)}(e=[].concat.apply([],e)).length<=0||(ira.cache.$window.on("scroll",t),setTimeout(t,100))},ira.isIOS=/iPad|iPhone|iPod/.test(navigator.platform),ira.isAndroid=/Android/i.test(navigator.userAgent),ira.accessibleNav=function(){var e=ira.cache.$navigation,t=e.find("a"),a=e.children("li").find("a"),i=e.find(".site-nav--has-dropdown"),n=e.find(".site-nav__dropdown").find("a"),r="nav-hover",o="nav-focus";if("ontouchstart"in window||navigator.maxTouchPoints){var s=!1;$(".main-navigation .has-dropdown > a").on("touchstart",function(e){if(!s)return s=!0,setTimeout(function(){s=!1},300),$(this).toggleClass("active"),$(this).siblings(".dropdown").toggleClass("visible"),!1;window.location=$(this).attr("href"),e.preventDefault()})}function c(e){e.removeClass(r),ira.cache.$body.off("touchstart")}function d(e){e.removeClass(o)}i.on("mouseenter touchstart",function(e){var t=$(this);t.hasClass(r)||e.preventDefault(),function(e){e.addClass(r),setTimeout(function(){ira.cache.$body.on("touchstart",function(){c(e)})},250)}(t)}),i.on("mouseleave",function(){c($(this))}),n.on("touchstart",function(e){e.stopImmediatePropagation()}),t.blur(function(){d(a)})},ira.headerInit=function(e){var t=$(".site-header");ira.stickyHeader({stickyHeaderEnabled:"true"==t.attr("data-sticky-header"),notificationBarEnabled:"true"==t.attr("data-announcement-bar")}),ira.transparentHeader({transparentHeaderEnabled:"true"==t.attr("data-transparent-header")||$(".parallax-container").children().first().hasClass("carousel"),stickyHeaderEnabled:"true"==t.attr("data-sticky-header")}),e||ira.setupNavigation({navigationInline:"true"==t.attr("data-inline-navigation")}),ira.searchInit({transparentHeaderEnabled:"true"==t.attr("data-transparent-header"),stickyHeaderEnabled:"true"==t.attr("data-sticky-header")}),"true"==t.attr("data-currency-converter")&&setTimeout(ira.setupCurrencyConverter,50),$(".dropdown.catalog-menu").each(function(){ira.initCatalogMenu($(this))})},ira.footerInit=function(){var e=ira.cache.$pageContainer,t=ira.cache.$footer,a=ira.cache.$pageContainer.outerHeight(!0),i=$(window).height(),n=t.hasClass("absolute");if(a<=i&&ira.cache.containerHeight!=a&&!n){var r=t.outerHeight();t.addClass("hidden"),t.addClass("absolute"),e.css({"padding-bottom":r}),t.removeClass("hidden")}else a>i&&ira.cache.containerHeight!=a&&n&&(t.addClass("hidden").removeClass("absolute"),e.css({"padding-bottom":0}),t.removeClass("hidden"));ira.cache.containerHeight=a},ira.stickyHeader=function(e){var t=e.stickyHeaderEnabled,a=e.notificationBarEnabled;if(-1!==window.location.pathname.indexOf("products")&&ira.cache.$html.hasClass("supports-touch"))return $(".sticky-header").removeClass("sticky-header");if(t){var i=$(".site-header"),n=ira.cache.$searchBar,r=(i=i.add(n),$(".site-header-controls")),o=r.height(),s=$("#announcement-bar").height();function c(){var e=document.getElementById("js-notificationBarStyle");if(e||((e=document.createElement("style")).id="js-notificationBarStyle"),navigator.appVersion.indexOf("MSIE 8")>0){var t=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(t),t.setAttribute("type","text/css"),t.styleSheet.cssText=".offset-by-announcement-bar {top: "+ira.cache.$notificationBar.height()+"px}"}document.body.appendChild(e)}a&&(o+=s);var d=function(){ira.cache.$body.hasClass("js-drawer-open")||(window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)<=o&&(r.removeClass("medium-down--fixed"),ira.cache.$searchBar.removeClass("medium-down--fixed"),ira.cache.$body.removeClass("js-header-attached"),$(window).off("scroll",d),$(window).on("scroll",l))},l=function(){if(!ira.cache.$body.hasClass("js-drawer-open")){var e=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;r.position().top;a&&e>=s?i.removeClass("offset-by-announcement-bar"):a&&e<s&&i.addClass("offset-by-announcement-bar"),e>=o&&!r.hasClass("medium-down--fixed")&&(r.addClass("medium-down--fixed"),ira.cache.$searchBar.addClass("medium-down--fixed"),ira.cache.$body.addClass("js-header-attached"),$(window).width()<=840&&ira.cache.$searchBar.offset().top<ira.cache.$headerControls.offset().top&&ira.cache.$searchBar.css("top",ira.cache.$header.height()+1),$(window).on("scroll",d))}};$(window).on("scroll",l),$(window).on("resize",d),l(),d(),a&&(c(),$(window).resize(c))}},ira.transparentHeader=function(e){var t=e.transparentHeaderEnabled,a=e.stickyHeaderEnabled,i="transparent-header",n="/"===window.location.pathname,r="collections"===window.location.pathname.split("/")[1]&&$(".section-header--image").length;t=t&&(n||r),n||r||$("."+i).removeClass(i),this.adjustContentOffset(e);var o=ira.cache.$header,s=ira.cache.$headerControls.height(),c=$(".main-content .shopify-section.carousel:first-child, .main-content .shopify-section.video-player:first-child, .collection-pages .section-header").first(),d=!1;function l(){var e=window.pageXOffset?window.pageXOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t=s;c.length&&(t=c.height()-s),"fixed"==ira.cache.$headerControls.css("position")&&c.length&&(t-=parseInt(c.css("padding-bottom").replace("px",""),10)),e>=t&&(ira.cache.$headerControls.css("transition","0.3s"),o.removeClass(i),$(window).on("scroll",h),$(window).off("scroll",l))}function h(){var e=window.pageXOffset?window.pageXOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t=s;c.length&&(t=c.height()-s),"fixed"==ira.cache.$headerControls.css("position")&&c.length&&(t-=parseInt(c.css("padding-bottom").replace("px",""),10)),e<=t&&(o.is('[data-transparent-header="true"]')&&o.addClass(i),setTimeout(function(){ira.cache.$headerControls.css("transition","0s")},600),$(window).on("scroll",l),$(window).off("scroll",h))}0!==$(".js-transparent-header-fadein:first").length&&(t&&ira.cache.$body.addClass("respond-to-transparent-header"),t&&a&&$(window).on("scroll",function e(){d||(l(),h(),d=!1,requestAnimationFrame(e),d=!0)}))},ira.setupNavigation=function(e){var t=_.debounce(function(){e.navigationInline&&("desktop"===ira.navigationStyle?ira.setNavStyle(ira.whichNav()):"mobile"===ira.navigationStyle&&.75*Math.ceil($(window).width())>Math.ceil($(".site-header__logo").outerWidth(!0)+1)+ira.navWidth+15&&(ira.navigationStyle="desktop",ira.setNavStyle("desktop")))},100);$(window).on("resize",t),$(".has-dropdown").on("mouseenter mouseleave",function(e){var t=$(e.target),a=t.hasClass("has-dropdown")?t:t.closest(".has-dropdown"),i=a.find(".catalog-menu");if(i.length&&"mouseenter"==e.type){i.css("margin-left",0);var n=0;i.addClass("visibly-hidden");var r=i.outerWidth(),o=i.offset().left,s=window.innerWidth-(r+o);s<0&&(n=s-20),i.removeClass("visibly-hidden"),i.css("margin-left",n)}var c=a.children("a"),d=a.children(".dropdown"),l=a.offset().left+350>window.innerWidth;"mouseenter"===e.type?(d.toggleClass("left-side",l),c.addClass("active"),d.revealer("show")):"mouseleave"===e.type&&(c.removeClass("active"),d.revealer("hide"))}),e.navigationInline&&(ira.navigationStyle="desktop",$(".site-header").imagesLoaded(function(){ira.setNavStyle(ira.whichNav())}),$(window).width()>840&&(ira.navWidth=ira.getNavWidth()))},ira.setNavStyle=function(e){"mobile"===e?(ira.navigationStyle="mobile",$(".js-drawer-open-NavDrawer").css("display","inline-block"),$(".js-account-icon").css("display","none"),$(".main-navigation").hide().removeClass("nav-loading")):($(".js-drawer-open-NavDrawer").css("display","none"),$(".js-account-icon").css("display","inline-block"),$(".main-navigation").css({left:$(".site-header__logo").outerWidth()}).show().removeClass("nav-loading"))},ira.whichNav=function(){return.75*Math.ceil($(window).width())-Math.ceil($(".site-header__logo").outerWidth(!0))-15<ira.getNavWidth()?"mobile":"desktop"},ira.getNavWidth=function(){var e=20;return $(".main-navigation li").each(function(t,a){e+=Math.ceil($(a).outerWidth(!0))}),e},ira.adjustContentOffset=function(e){var t=(t=e.transparentHeaderEnabled)&&"/"===window.location.pathname,a="/"===window.location.pathname;e.stickyHeaderEnabled;function i(){var e=0;return $("#announcement-bar").each(function(t,a){var i=$(a).height();e+=i,i}),($(window).width()<=840||navigator.appVersion.indexOf("MSIE 8")>1)&&(80,t||(e+=80)),$(".site-header").each(function(a,i){var n=$(i).height();n,t||(e+=n)}),a&&!t&&(e-=40),e>=40&&(e-=1),e}return this.hasSetContentAdjustOnResize||(this.hasSetContentAdjustOnResize=!0,$(window).resize(i)),i()},ira.searchInit=function(e){var t={openClassSelector:".search-open",closeClassSelector:".search-close",searchBarSelector:"#HeaderSearchBar",searchInputSelector:"#searchBarInput",jsClassOpen:"js-search-open"},a=(e.transparentHeaderEnabled,{open:$(t.openClassSelector),close:$(t.closeClassSelector),searchBar:$(t.searchBarSelector),input:$(t.searchInputSelector)});function i(i){return ira.NavDrawer.close(),ira.CartDrawer.close(),a.searchBar.revealer("show"),a.close.add(a.input).attr("tabindex",0),navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&e.stickyHeaderEnabled||navigator.appVersion.indexOf("MSIE 8")>0||a.input[0].select(),ira.cache.$header.add(ira.cache.$html).addClass(t.jsClassOpen),i.preventDefault(),i.stopPropagation(),!1}function n(e){void 0!==e&&"function"==typeof e.preventDefault&&e.preventDefault(),a.searchBar.revealer("hide"),ira.cache.$header.add(ira.cache.$html).removeClass(t.jsClassOpen),a.close.add(a.input).attr("tabindex",0)}a.close.add(a.input).attr("tabindex",-1),navigator.appVersion.indexOf("MSIE 8")<=0&&($(a.open[0]).on("click",i),$(a.close[0]).on("click",n),$(a.searchBar[0]).on("click",function(e){e.preventDefault(),e.stopPropagation()}),$(document).on("click",function(e){$("html").hasClass("js-search-open")&&0===$(e.target).closest(a.searchBar).length&&0===$(e.target).closest(ira.cache.$header).length&&n()}),window.onkeydown=function(e){27===e.keyCode&&n(),70===e.keyCode&&e.altKey&&(e.preventDefault(),i())})},ira.drawersInit=function(){ira.NavDrawer=new ira.Drawers("NavDrawer","right"),ira.CartDrawer=new ira.Drawers("CartDrawer","right",{onDrawerOpen:ajaxCart.load}),ira.allDrawers=[ira.NavDrawer,ira.CartDrawer]},ira.exitIntentInit=function(){var e=this.cache.$exitIntentOverlay;null==window.ThemeEditor&&$("[data-exit-intent-overlay]").length&&setTimeout(function(){$(document).on("mouseleave",function(){sessionStorage.disableExitIntent||(sessionStorage.disableExitIntent=!0,$("[data-exit-intent-overlay]").addClass("show"))})},2500),$("body").on("click",".close-exit-intent",function(t){t.preventDefault(),e.removeClass("show")}),$("body").on("click",".show-exit-intent",function(t){t.preventDefault(),e.addClass("show")}),$("body").on("click",".exit-intent-overlay",function(t){0===$(t.target).parents(".exit-intent").length&&(t.preventDefault(),e.removeClass("show"))}),q=window.location.search.slice(1),"customer_posted=true"==q&&e.addClass("show")},ira.storyGridInit=function(){$(".featured-content").each(function(e,t){$(t).imagesLoaded(function(){$(t).find(".grid--story__image").each(function(e,t){var a,i=$(t),n=i.find("img");n.length&&((a=n.get(0).getBoundingClientRect()).height/a.width>.6?i.addClass("aspect-wide"):i.addClass("aspect-narrow"))})})})},ira.mobileNavToggle=function(){$(".mobile-nav__has-sublist").on("click",function(){$(this).toggleClass("mobile-nav--expanded"),$(this).find("button > .icon").toggleClass("fade-in fade-and-flip")})},ira.getHash=function(){return window.location.hash},ira.updateHash=function(e){window.location.hash="#"+e,$("#"+e).attr("tabindex",-1).focus()},ira.productPage=function(e,t){Currency.moneyFormats[Currency.currentCurrency][Currency.format];var a=t.default_currency,i=t.variant,n=(t.selector,$("#ProductPhotoImg"),e.find("[type=submit]")),r=e.find(".organic-background .in__stock"),o=e.find(".quantity-input"),s=e.find("[data-product-price]"),c=e.find("[data-compare-price]"),d=e.find(".quantity-selector, label + .js-qty"),l=e.find("[data-add-to-cart-text]");if(i){i.available?(n.removeClass("disabled").prop("disabled",!1),o.removeClass("disabled").prop("disabled",!1),d.show(),r.show()):(n.addClass("disabled").prop("disabled",!0),o.addClass("disabled").prop("disabled",!0),l.html("Sold Out"),d.hide(),r.hide());var h={regular:i.price,compare_at:i.compare_at_price};window.Currency&&ira.cache.$headerCurrencyConverter.length&&(h={regular:Currency.convert(i.price,a,Currency.currentCurrency),compare_at:Currency.convert(i.compare_at_price,a,Currency.currentCurrency)});var u=formatPriceAndRemoveZeroes(h.regular);if(s.html(u),h.compare_at>h.regular){var p=formatPriceAndRemoveZeroes(h.compare_at);c.html(p).show()}else c.hide()}else n.addClass("disabled").prop("disabled",!0),l.html("Sold Out"),d.hide()},ira.productImageSwitch=function(){ira.cache.$thumbImages.on("click focus",function(e){e.preventDefault(),e.stopPropagation();var t=ira.cache.$thumbImages.index(this);ira.cache.$productImages.hide().eq(t).show()})},ira.productSidebar=function(){var e=ira.cache.$photoContainer,t=$("#sidebarColumn"),a=t.children(".sidebarColumn-inner");if(t.hasClass("sticky-sidebar")&&!ira.isIOS){var i=ira.cache.$header.hasClass("sticky-header");i&&t.addClass("has-sticky-header"),$(window).on("resize scroll tab-changed tab-extended",function(){if(e.outerHeight()!==a.outerHeight()+40){var n=!0,r=$(document).scrollTop(),o=ira.cache.$header.outerHeight(),s=i?o:0,c={outerWidth:t.outerWidth()+1,outerHeight:t.outerHeight(),outerTop:t.offset().top-1,innerHeight:a.outerHeight(),scrollHeight:r+window.innerHeight},d=window.innerWidth>840,l=r>c.outerTop-s,h=c.innerHeight+s>window.innerHeight,u=c.scrollHeight>c.outerTop+c.innerHeight+(t.hasClass("sticky-bottom")?0:40),p=c.scrollHeight>c.outerTop+c.outerHeight,f=r+c.innerHeight+s>c.outerTop+c.outerHeight;d&&l&&(a.css("width",c.outerWidth),h&&p||!h&&f?(t.removeClass("sticky-bottom sticky-top"),t.addClass("stuck"),n=!1):h?h&&u&&(t.removeClass("stuck sticky-top"),t.addClass("sticky-bottom"),n=!1):(t.removeClass("stuck sticky-bottom"),t.addClass("sticky-top"),n=!1)),n&&(t.removeClass("sticky-top sticky-bottom stuck"),a.css("width","auto"))}}).trigger("resize")}},ira.responsiveVideos=function(){$('iframe[src*="youtube.com/embed"]').wrap('<div class="video-wrapper"></div>'),$('iframe[src*="player.vimeo"]').wrap('<div class="video-wrapper"></div>')},ira.collectionSortSetup=function(){ira.collectionFilter(),ira.collectionSort()},ira.collectionFilter=function(){$(".collection-filtering").on("change","select",function(t){e(t)}),$(".collection-filters").children().each(function(e,t){var a=$(t),i=a.find(".collection-filters-title").width();a.find("select").css({"padding-left":i+20})});var e=function(e){var t=$(e.currentTarget),a=t.val(),i="/collections/"+t.data("collection-handle")+"/";location=i+a}},ira.collectionSort=function(){$(".collection-sort").on("change","select",function(t){e(t)});var e=function(e){var t=$(e.currentTarget),a={};if(a.sort_by=t.val(),t.closest(".collection-sort").hasClass("vendor-page")){var i=location.search.split("&");$.each(i,function(e,t){-1!==t.indexOf("sort_by")&&i.splice(e,1)});var n=i.join("&");location.search=n+"&"+$.param(a)}else location.search=$.param(a)}},ira.collectionViews=function(){ira.cache.$changeView.length&&ira.cache.$changeView.on("click",function(){var e=$(this).data("view"),t=document.URL,a=t.indexOf("?")>-1;window.location=a?replaceUrlParam(t,"view",e):t+"?view="+e}),$(".supports-touch .product_image_caption").each(function(e,t){var a=$(t),i=a.find(".h2").text().length,n=16;switch(!0){case i<50:n=16;break;case i<100:n=15;break;case i<150:n=14;break;case i<200:n=13;break;case i>=200:n=12;break;default:n=16}a.css("font-size",n)})},ira.loginForms=function(){function e(){ira.cache.$recoverPasswordForm.show(),ira.cache.$customerLoginForm.hide()}ira.cache.$recoverPasswordLink.on("click",function(t){t.preventDefault(),e()}),ira.cache.$hideRecoverPasswordLink.on("click",function(e){e.preventDefault(),ira.cache.$recoverPasswordForm.hide(),ira.cache.$customerLoginForm.show()}),"#recover"==ira.getHash()&&e()},ira.resetPasswordSuccess=function(){ira.cache.$passwordResetSuccess.show()},ira.initInstaGrid=function(){var e=$("#instagrid"),t=e.attr("data-access-token");e.length&&null!=t&&t.length&&(ira.instaGrid=new ira.InstaGrid(t))},ira.collectionList=function(){document.querySelectorAll(".featured-collections").forEach(function(e){e.querySelectorAll("[data-grid-item]").forEach(function(e){var t=e.querySelector(".index-grid-item-overlay");e.addEventListener("mouseenter",function(){t.style.opacity=t.dataset.hoverOpacity}),e.addEventListener("mouseout",function(){t.style.opacity=t.dataset.opacity})})})},ira.fadeOutOnClick=function(){window.onunload=function(e){},window.onpageshow=function(e){e.persisted&&window.location.reload()};var e=this.cache.$fadeOutOverlay;$("body").on("click","a",function(t){if(!t.metaKey&&!t.shiftKey){var a=$(this).attr("href");void 0!==a&&"#"!==a&&0!==a.indexOf("#")&&-1===a.indexOf("mailto:")&&"_blank"!=$(this).attr("target")&&(t.preventDefault(),e.addClass("show"),setTimeout(function(){location.href=a}.bind(this),150))}})},ira.parallax=function(){var e="/"===window.location.pathname,t="collections"===window.location.pathname.split("/")[1]&&$(".section-header--image").length;if(e||t){var a=!1,i=$('[data-parallax="true"]');ira.cache.$body.addClass("js-parallax"),r();var n=_.throttle(function(){a||(window.requestAnimationFrame(r),a=!0)},1e3/60);ira.cache.$window.on("scroll",n)}function r(){if(!("ontouchstart"in window||"onmsgesturechange"in window)&&ira.cache.windowWidth>840){var e=ira.cache.$window.scrollTop(),t=ira.cache.windowHeight;e<=t+40&&i.each(function(t,a){var i,n=$(a),r=n.attr("data-direction"),o=n.attr("data-speed"),s=e*o;i="up"===r?"-":"",s=+s.toFixed(2),n.css({transform:"translate3d(0, "+i+s+"px, 0)"})}),a=!1}}},ira.truncateExcerptText=function(){$(".excerpt").each(function(e,t){if($(this).text().length>180){var a=function e(t,a){var i="",n=a;$(t).contents().each(function(){switch(this.nodeType){case Node.TEXT_NODE:i+=this.data.substr(0,n),n-=Math.min(this.data.length,n);break;case Node.ELEMENT_NODE:var t=e(this,n);i+=t.text,n-=t.count}if(0==n)return!1});return{text:t.outerHTML.match(/^<[^>]+>/m)[0]+i+"</"+t.localName+">",count:a-n}}(this,180),i=$(a.text);i.find("*:last-child").last().text(i.find("*:last-child").last().text()+"..."),$(this).text("").append(i)}})},ira.Drawers=function(){var e=function(e,t,a){var i={close:".js-drawer-close",open:".js-drawer-open-"+e,openClass:"js-drawer-open",dirOpenClass:"js-drawer-open-"+e};if(this.$nodes={parent:$("body, html"),page:$("#PageContainer"),moved:$(".is-moved-by-drawer"),headerControl:$(".header-control."+i.dirOpenClass),background:$(".drawer__background"),content:$("#"+e+" .drawer__content")},this.config=$.extend(i,a),this.position=t,this.id=e,this.$drawer=$("#"+e),!this.$drawer.length)return!1;this.drawerIsOpen=ira.cache.$body.hasClass("js-drawer-open-NavDrawer"),this.init()};return e.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this)),this.$drawer.find(this.config.close).on("click",$.proxy(this.close,this)),this.$drawer.on("click",function(e){e.stopPropagation()}),this.$nodes.parent.on("click",function(e){ira.NavDrawer.close(),ira.CartDrawer.close()})},e.prototype.open=function(t){var a=!1;if(t?t.preventDefault():a=!0,$(".js-drawer-open-"+this.id).closest(".header-control").addClass("active"),t&&t.stopPropagation&&(t.stopPropagation(),this.$activeSource=$(t.currentTarget)),this.drawerIsOpen&&!a)return this.close();this.otherDrawersOpen()&&this.otherDrawer().close(),this.scrollPositionOnOpen=$(window).scrollTop(),this.$nodes.moved.addClass("is-transitioning"),this.$drawer.prepareTransition(),this.$nodes.parent.addClass(this.config.openClass+" "+this.config.dirOpenClass),this.drawerIsOpen=!0,e.prototype.trapFocus(this.$drawer,"drawer_focus"),this.config.onDrawerOpen&&"function"==typeof this.config.onDrawerOpen&&(a||this.config.onDrawerOpen()),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true"),this.$nodes.page.on("click.drawer",$.proxy(function(){return this.close(),!1},this))},e.prototype.close=function(t){this.drawerIsOpen&&($(window).width()<=840&&$(window).scrollTop(this.scrollPositionOnOpen),$(document.activeElement).trigger("blur"),this.$nodes.moved.prepareTransition({disableExisting:!0}),this.$drawer.prepareTransition({disableExisting:!0}),this.$nodes.parent.removeClass(this.config.dirOpenClass+" "+this.config.openClass),this.drawerIsOpen=!1,e.prototype.removeTrapFocus(this.$drawer,"drawer_focus"),this.$nodes.page.off(".drawer"),this.$nodes.headerControl.removeClass("active"))},e.prototype.trapFocus=function(e,t){var a=t?"focusin."+t:"focusin";e.attr("tabindex","-1"),e.focus(),$(document).on(a,function(t){e[0]===t.target||e.has(t.target).length||e.focus()})},e.prototype.removeTrapFocus=function(e,t){var a=t?"focusin."+t:"focusin";e.removeAttr("tabindex"),$(document).off(a)},e.prototype.otherDrawer=function(){var e;return ira.allDrawers.forEach(function(t){t.id!==this.id&&(e=t)}.bind(this)),e},e.prototype.otherDrawersOpen=function(){for(var e=0;e<ira.allDrawers.length;e++){var t=ira.allDrawers[e];if(t.drawerIsOpen&&t.id!==this.id)return!0}return!1},e}(),ira.carousels=[],ira.Carousel=function(){var e=function(e){this.config=$.extend({slideTimeout:1e4,enableKenBurns:!1},e),this.slides=this.config.container.find(".carousel-slides"),e.offsetNotificationBar&&this.config.container.addClass("offset-announcement-bar"),this.config.enableKenBurns="true"==this.config.enableKenBurns,$(window).on("resize",this.setTextMaxHeight.bind(this)),this.init()};return e.prototype.init=function(){this.slides.on("init",this.slideInit.bind(this)),this.slides.on("afterChange",this.afterChange.bind(this)),this.slides.slick({autoplay:!0,dots:!0,arrows:!1,mobileFirst:!0,respondTo:"min",adaptiveHeight:!1,autoplaySpeed:this.config.slideTimeout,pauseOnHover:!1,draggable:!1,fade:!0,lazyload:"progressive"}),$(window).trigger("resize")},e.prototype.pause=function(){this.slides.slick("pause")},e.prototype.play=function(){this.slides.slick("play")},e.prototype.goTo=function(e){this.slides.slick("slickGoTo",e)},e.prototype.slideInit=function(e,t){var a=t.slickCurrentSlide();this.slick=t,this.slides.trigger("afterChange",[t,a]),this.getSlide(a).addClass("visible"),this.config.enableKenBurns&&this.getSlide(a).addClass("ken-burns")},e.prototype.afterChange=function(e,t,a){var i=this.getSlide(a-1),n=this.getSlide(a);i.removeClass("visible"),n.addClass("visible"),this.config.enableKenBurns&&(i.removeClass("ken-burns"),n.addClass("ken-burns"))},e.prototype.getSlide=function(e){return e<0&&(e=this.slick.$slides.length-1),$(this.slick.$slides[e])},e.prototype.setTextMaxHeight=function(){var e=this.slick.$slides.toArray().map(function(e){if($(e).find(".carousel-slide-text-inner").length)return e.querySelector(".carousel-slide-text-inner").clientHeight}),t=Math.max.apply(Math,e);this.slick.$slides.each(function(e,a){$(a).children(".carousel-slide-text").length&&$(a).children(".carousel-slide-text").css("height",t)})},e}();var supportsInlinePlayer="playsInline"in document.createElement("video");ira.videoPlayers=[],ira.VideoPlayer=function(){var e=function(e){this.config=$.extend({},e),this.config.sectionID=this.config.container.attr("data-id"),e.offsetNotificationBar&&this.config.container.addClass("offset-announcement-bar"),this.init()};return e.prototype.init=function(){ira.isIOS&&!supportsInlinePlayer&&this.config.container.find(".feature-video-video").hide()},e}(),ira.InstaGrid=function(){var e=function(e){this.clientID=e,this.baseAPI="https://api.instagram.com/v1/",this.numberOfImages=8,this.maxImages=8,this.imageIndex=this.numberOfImages,this.$node=$("#instagrid"),this.transitionSpeed=1e3,this.instagramImageData=[],this.captionClassName="instagrid-caption",this.refreshTime=2500,this.randomize=!0,this.loopAnimation=!0,this.$node.length&&this.clientID&&this.init()};function t(e){var t=!_.isNull(e.likes)&&"number"==typeof e.likes.count,a=!_.isNull(e.caption)&&"string"==typeof e.caption.text;return!(!a&&!t)&&{text:a,likes:t}}return e.prototype.init=function(){this.authenticateWithAccessToken({accessToken:this.clientID,feedType:"recent"}).then(function(e){this.insertImages(e),this.continuallyUpdateImages()}.bind(this)).fail(function(e){this.$node.remove(),console.error("Could not instantiate Instagram Grid.",e)}.bind(this))},e.prototype.getUserID=function(e){var t=this.baseAPI+"users/search?q="+e+"&client_id="+this.clientID;t+="&callback=callbackFunction";var a=jQuery.Deferred();return $.ajax({type:"GET",dataType:"jsonp",data:{},url:t,success:function(t){if(void 0===t.data)return a.reject(t.meta);var i=t.data.filter(function(t){return t.username===e});a.resolve(i[0].id)}.bind(this)}),a.promise()},e.prototype.authenticateWithAccessToken=function(e){"string"!=typeof e.feedType&&(e.feedType="recent");var t=jQuery.Deferred(),a=this.baseAPI+"users/self/media/"+e.feedType+"?access_token="+e.accessToken;return $.ajax({type:"GET",dataType:"jsonp",data:{},url:a,success:function(e){e||t.reject({code:400,message:"No response from Instagram servers"}),400===e.meta.code&&t.reject(e),200!==e.meta.code&&0!==String(e.meta.code).indexOf("2")||(this.instagramImageData=e.data,t.resolve(e.data)),t.reject(e)}.bind(this)}),t.promise()},e.prototype.insertImages=function(e){var t=this.$node.find("div:first").detach()[0].className,a=[];document.createElement("div").className="instagrid-item",this.numberOfImages>e.length&&(this.numberOfImages=e.length),e.forEach(function(e,i){if(!(i>=this.maxImages)){var n=document.createElement("div"),r=e.images.standard_resolution.url,o=document.createElement("span"),s=document.createElement("img"),c=document.createElement("a");document.createElement("div").className="spacer",s.src=r,s.className="photo",n.className=t,o.className="image-wrapper",c.href=e.link,o.appendChild(s),n.appendChild(o),this.createAndAppendCaption(e,n),n.appendChild(c),n=$(n).wrapInner('<div class="instagrid-item" />'),a.push(n)}}.bind(this)),this.$node.append(a)},e.prototype.createAndAppendCaption=function(e,t){var a=this.createCaption(e);return t.appendChild(a)},e.prototype.createCaption=function(e){var a=document.createElement("div"),i=document.createElement("p"),n=$('<svg width="16px" height="15px" viewBox="0 0 16 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><title>0219-heart</title><desc>Created with Sketch.</desc><defs></defs><g id="Index-—-Presets" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="Preset-4-—-Footer-1" sketch:type="MSArtboardGroup" transform="translate(-108.000000, -2697.000000)" fill="#FFFFFF"><g id="0219-heart-+-0-copy" sketch:type="MSLayerGroup" transform="translate(108.000000, 2696.000000)"><path d="M11.7993748,1 C10.1184373,1 8.67062483,2.38538538 8.00062484,3.83119748 C7.32906236,2.38538538 5.88124989,1 4.20031242,1 C1.88124996,1 0,2.90581446 0,5.25264907 C0,10.0276255 4.75843741,11.2795026 8.00062484,16.0003796 C11.0656248,11.3092414 15.9996872,9.87576773 15.9996872,5.25264907 C15.9996872,2.90581446 14.1187497,1 11.7993748,1 L11.7993748,1 Z" id="0219-heart" sketch:type="MSShapeGroup"></path></g></g></g></svg>')[0],r=document.createElement("span"),o=document.createElement("p");a.className=this.captionClassName,o.className="quote",r.className="count",i.className="likes";var s=t(e);if(s.text&&(o.innerHTML=e.caption.text),s.likes){var c=document.createTextNode(e.likes.count);r.appendChild(c)}return i.appendChild(r),i.appendChild(n),a.appendChild(o),a.appendChild(i),a},e.prototype.replaceCaption=function(e,a){var i=this.$node.children().children().eq(e),n="",r=0,o=t(a);if(o.text&&(n=a.caption.text),o.likes)r=a.likes.count;i.find(".instagrid-caption .quote").text(n),i.find(".instagrid-caption .likes .count").text(r)},e.prototype.replaceImage=function(e,t){var a=this.$node.children().children().eq(e),i=a.find("a"),n=a.find("img.photo"),r=document.createElement("img"),o=this.transitionSpeed+"ms ease-in-out",s=t.images.standard_resolution.url,c=t.link;i.attr("href",c),r.src=s,r.className="photo",n.css("transition",o).css("opacity","0"),setTimeout(function(){n.remove()},this.transitionSpeed),$(r).css("position","absolute"),a.children(".image-wrapper").prepend(r),this.replaceCaption(e,t)},e.prototype.updateImages=function(e){if(this.imageIndex>=this.instagramImageData.length-1){if(!this.loopAnimation)return this.haltUpdatingImages();this.imageIndex=0}var t=this.instagramImageData[this.imageIndex++];this.$node.children().find("a").toArray().filter(function(e,a){return e.href===t.link}).length?console.info("Duplicate image in InstaGrid, skipping it."):this.replaceImage(e,t)},e.prototype.continuallyUpdateImages=function(){var e=0;this.instagramImageData.length<=this.maxImages||(this.updateInterval=setInterval(function(){this.randomize&&(e=Math.floor(Math.random()*this.numberOfImages+1)),e>=this.numberOfImages&&(e=0),this.updateImages(e++)}.bind(this),this.refreshTime))},e.prototype.haltUpdatingImages=function(){clearInterval(this.updateInterval)},e}(),$(ira.init),history.navigationMode="compatible",$(document).on("shopify:section:load",function(e){var t=$(e.target),a=t.attr("class").replace("shopify-section","").trim();switch(ira.initScrollTriggers(),a){case"header":case"featured-product":ProductPageInit();break;case"collection-pages":ira.headerInit("collection-pages"==a),ira.drawersInit(),ira.mobileNavToggle(),$("#announcement-bar").length>0?(ira.cache.$body.addClass("respond-to-announcement-bar"),$("#HeaderSearchBar").addClass("offset-by-announcement-bar")):(ira.cache.$body.removeClass("respond-to-announcement-bar"),$("#HeaderSearchBar").removeClass("offset-by-announcement-bar")),$(window).trigger("scroll");break;case"carousel":ira.carousels=[];var i=t.children(".carousel-container");ira.carousels.push(new ira.Carousel({container:i,enableKenBurns:i.attr("data-ken-burns"),slideTimeout:i.attr("data-slide-timeout")}));break;case"video-player":ira.videoPlayers=[];var n=t.children(".feature-video-container");ira.videoPlayers.push(new ira.VideoPlayer({container:n}));break;case"instagram":ira.initInstaGrid();break;case"collection-pages":ira.collectionSortSetup(),ira.collectionViews();break;case"product-pages":ira.productImageSwitch(),ira.productSidebar(),ProductPageInit();break;case"map":var r=$(t).find("[data-map-api]")[0];ira.HomePage.loadMap(r)}}).on("shopify:section:select",function(e){switch($(e.target).attr("class").replace("shopify-section","").trim()){case"popup":$(".exit-intent-overlay").addClass("show")}}).on("shopify:section:deselect",function(e){switch($(e.target).attr("class").replace("shopify-section","").trim()){case"popup":$(".exit-intent-overlay").removeClass("show")}}).on("shopify:block:select",function(e){switch($(e.target).closest(".shopify-section").attr("class").replace("shopify-section","").trim()){case"carousel":var t=$(e.target);ira.carousels.forEach(function(e){e.pause(),e.goTo(t.attr("data-slick-index"))})}}).on("shopify:block:deselect",function(e){e.originalEvent.detail.sectionId,$(e.target);ira.carousels.forEach(function(e){e.play()})}),$(document).on("click",".qtyadjust",function(){var e=parseInt($(this).parent(".quantity-input").find(".js-quantityInput").val());$(this).hasClass("qtyplus")?e++:e>1&&e--,e=isNaN(e)?1:e,$(this).parent(".quantity-input").find(".js-quantityInput").val(e).change()});var getProduct=function(e,t){var a={type:"GET",url:e,dataType:"json",async:!1,success:t,error:function(e,t){console.log(e,t)}};jQuery.ajax(a)},shoppableIngredients=!1;$('.article-ingredients a[href*="diaspora"]').each(function(e,t){shoppableIngredients=!0;var a=t.href;if(a.includes("?")){var i=a.split("?");if(a=i[0],i[1].includes("variant="))var n=i[1].split("variant=")[1]}a+=".js";var r=$(this).parent();getProduct(a,function(e){var t=e.variants.find(function(e){return n?parseInt(n)===e.id:e.available});t&&t.available&&(r.prepend('<label class="check-container" ><input type="checkbox" class="check-checkbox js-recipe-checkbox" value="'+t.id+'" >  <span class="check-checkmark large pink-check"></span> <span class="add-to-cart-notice"> add to cart </span>'),r.append("</label>"))})}),$(".js-article-button").hide(),$(".js-recipe-checkbox").on("change",function(){$(".js-recipe-checkbox").is(":checked")?$(".js-article-button").show():$(".js-article-button").hide()}),shoppableIngredients&&$(".cart-icon").css("opacity","1");var animations=function(){var e=".will-animate",t="animate",a=window.screen.availHeight;setInterval(function(i){$(e).each(function(e,i){var n=i.getBoundingClientRect().y;if(n<a&&n>=0)if(i.dataset.delay){var r=parseInt(i.dataset.delay);setTimeout(function(){i.classList.add(t)},r)}else i.classList.add(t);else i.classList.remove(t)})},300)};$(document).ready(function(){animations()});
